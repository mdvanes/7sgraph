(this.webpackJsonp7sgraph=this.webpackJsonp7sgraph||[]).push([[0],{323:function(e,n,t){},324:function(e,n,t){},449:function(e,n,t){"use strict";t.r(n);var i,a,r,o,s,c,l,d=t(6),u=t(0),m=t.n(u),h=t(27),k=t.n(h),v=(t(323),t(324),t(325),t(501)),f=t(138),p=t(35),b=t(23),g=t.n(b),j=t(81),y=t(254),O=function(){var e=Object(j.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/graphql",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y.a,{fetcher:O}),Object(d.jsx)("p",{children:"test query:"}),Object(d.jsx)("pre",{children:'// Get any person\n{\n  queryPerson {\n    __typename\n    personID\n    name\n  }\n}\n\n// Get any story\n{\n  queryStory {\n    __typename\n    title\n  }\n}\n\n// Get any person with related stories and persons\nquery getAllPersons {\n  queryPerson {\n    __typename\n    personID\n    name\n    nickNames\n    story {\n      title\n    }\n    parent {\n      __typename\n      name\n      personID\n    }\n  }\n}\n\n// Get a specific person by name and related persons sorted by name\nquery getPersonByName($name: String!) {\n  queryPerson(filter: { name: {allofterms: $name}}) {\n    __typename\n    personID\n    name\n    nonBioParent(order: { asc: name }, first: 15) {\n      name\n    }\n    parent(order: { asc: name }, first: 15) {\n      name\n    }\n  }\n}\n+\n{\n  "name": "Pa"\n}\n\n// TODO Get persons by related story title\n// See https://discuss.dgraph.io/t/filtering-by-relation/5757/2\n{\n  queryPersonWithStory(func: has(Person.story)) {\n    Person.uid\n    Person.name\n    Person.story @filter(eq(Story.title, "The Storm Sister")) {\n      Story.title \n    }\n  }\n}\n\n# Get story by title and all persons in it\nquery getStoryByTitle($title: String!) {\n  queryStory(filter: { title: {allofterms: $title}}) {\n    storyID\n    title\n    persons {\n      name\n    }\n  }\n}\n+\n{\n  "title": "Storm"\n}\n\n# Gets all persons and than filters stories, so non matching persons will still show up, but with story: null\nquery getPersonsByStoryTitle($title: String!) {\n  queryPerson(filter: { has:story}) {\n    __typename\n    personID\n    name\n    story(filter: { title: {allofterms: $title} }) {\n      title\n    }\n  }\n}\n+\n{\n  "title": "Storm"\n}\n\n# Test query inverse relation\n{\n  queryPerson {\n    __typename\n    personID\n    name\n    children {\n      name\n    }\n    parents {\n      name\n    }\n    nonBioChildren {\n      name\n    }\n    nonBioParents {\n      name\n    }\n  }\n}\n\n# DQL automatic recurse\n{\n  node(func: anyofterms(Person.name, "Maia")) @recurse(depth: 3) {\n    uid\n    expand(_all_) {\n      \n    }\n  }\n}\n'})]})},x=t(48),N=t(32),F=t(292),P=t(21);!function(e){e.Bool="bool",e.Day="day",e.Exact="exact",e.Float="float",e.Fulltext="fulltext",e.Geo="geo",e.Hash="hash",e.Hour="hour",e.Int="int",e.Int64="int64",e.Month="month",e.Regexp="regexp",e.Term="term",e.Trigram="trigram",e.Year="year"}(i||(i={})),function(e){e.Delete="DELETE",e.Get="GET",e.Patch="PATCH",e.Post="POST",e.Put="PUT"}(a||(a={})),function(e){e.Batch="BATCH",e.Single="SINGLE"}(r||(r={})),function(e){e.Children="children",e.Cx="cx",e.Cy="cy",e.DateOfBirth="dateOfBirth",e.DateOfDeath="dateOfDeath",e.Gender="gender",e.Location="location",e.Name="name",e.NickNames="nickNames",e.NonBioChildren="nonBioChildren",e.NonBioParents="nonBioParents",e.OtherRelation="otherRelation",e.Parents="parents",e.PersonId="personID",e.PhysicalRelation="physicalRelation",e.Story="story",e.Wiki="wiki"}(o||(o={})),function(e){e.Cx="cx",e.Cy="cy",e.DateOfBirth="dateOfBirth",e.DateOfDeath="dateOfDeath",e.Gender="gender",e.Name="name",e.PersonId="personID",e.Wiki="wiki"}(s||(s={})),function(e){e.Persons="persons",e.StoryId="storyID",e.Title="title"}(c||(c={})),function(e){e.StoryId="storyID",e.Title="title"}(l||(l={}));var D=[{kind:"FragmentDefinition",name:{kind:"Name",value:"PersonFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Person"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"personID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfBirth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfDeath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nickNames"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gender"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cx"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wiki"},arguments:[],directives:[]}]}}],B={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PersonWithLinksFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Person"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"story"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nonBioChildren"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nonBioParents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"physicalRelation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"otherRelation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}}]}}].concat(D).reduce((function(e,n){return"FragmentDefinition"===n.kind&&e.find((function(e){return"FragmentDefinition"===e.kind&&e.name.value===n.name.value}))?e:e.concat(n)}),[]),loc:{start:0,end:354,source:{body:"\n    fragment PersonWithLinksFields on Person {\n  __typename\n  ...PersonFields\n  story {\n    title\n  }\n  children {\n    ...PersonFields\n  }\n  parents {\n    ...PersonFields\n  }\n  nonBioChildren {\n    ...PersonFields\n  }\n  nonBioParents {\n    ...PersonFields\n  }\n  physicalRelation {\n    ...PersonFields\n  }\n  otherRelation {\n    ...PersonFields\n  }\n}\n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAllPersons"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryPerson"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonWithLinksFields"},directives:[]}]}}]}}].concat(B.definitions).reduce((function(e,n){return"FragmentDefinition"===n.kind&&e.find((function(e){return"FragmentDefinition"===e.kind&&e.name.value===n.name.value}))?e:e.concat(n)}),[]),loc:{start:0,end:82,source:{body:"\n    query getAllPersons {\n  queryPerson {\n    ...PersonWithLinksFields\n  }\n}\n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPersonByName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryPerson"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"allofterms"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonWithLinksFields"},directives:[]}]}}]}}].concat(B.definitions).reduce((function(e,n){return"FragmentDefinition"===n.kind&&e.find((function(e){return"FragmentDefinition"===e.kind&&e.name.value===n.name.value}))?e:e.concat(n)}),[]),loc:{start:0,end:137,source:{body:"\n    query getPersonByName($name: String!) {\n  queryPerson(filter: {name: {allofterms: $name}}) {\n    ...PersonWithLinksFields\n  }\n}\n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPersonByUid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getPerson"},arguments:[{kind:"Argument",name:{kind:"Name",value:"personID"},value:{kind:"Variable",name:{kind:"Name",value:"uid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PersonWithLinksFields"},directives:[]}]}}]}}].concat(B.definitions).reduce((function(e,n){return"FragmentDefinition"===n.kind&&e.find((function(e){return"FragmentDefinition"===e.kind&&e.name.value===n.name.value}))?e:e.concat(n)}),[]),loc:{start:0,end:127,source:{body:"\n    query getPersonByUid($uid: String!) {\n  getPerson(personID: $uid) {\n    __typename\n    ...PersonWithLinksFields\n  }\n}\n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPersonDetailsByUid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getPerson"},arguments:[{kind:"Argument",name:{kind:"Name",value:"personID"},value:{kind:"Variable",name:{kind:"Name",value:"uid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"dateOfDeath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"story"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}].concat(D).reduce((function(e,n){return"FragmentDefinition"===n.kind&&e.find((function(e){return"FragmentDefinition"===e.kind&&e.name.value===n.name.value}))?e:e.concat(n)}),[]),loc:{start:0,end:156,source:{body:"\n    query getPersonDetailsByUid($uid: String!) {\n  getPerson(personID: $uid) {\n    ...PersonFields\n    dateOfDeath\n    story {\n      title\n    }\n  }\n}\n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getStartNodes"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryPerson"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"allofterms"},value:{kind:"StringValue",value:"Pa Salt",block:!1}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"story"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nonBioChildren"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonFields"},directives:[]}]}}]}}]}}].concat(D).reduce((function(e,n){return"FragmentDefinition"===n.kind&&e.find((function(e){return"FragmentDefinition"===e.kind&&e.name.value===n.name.value}))?e:e.concat(n)}),[]),loc:{start:0,end:293,source:{body:'\n    query getStartNodes {\n  queryPerson(filter: {name: {allofterms: "Pa Salt"}}) {\n    __typename\n    ...PersonFields\n    story {\n      title\n    }\n    children {\n      ...PersonFields\n    }\n    parents {\n      ...PersonFields\n    }\n    nonBioChildren {\n      ...PersonFields\n    }\n  }\n}\n    ',name:"GraphQL request",locationOffset:{line:1,column:1}}}},R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getStoryById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getStory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"storyID"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"storyID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"persons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonWithLinksFields"},directives:[]}]}}]}}]}}].concat(B.definitions).reduce((function(e,n){return"FragmentDefinition"===n.kind&&e.find((function(e){return"FragmentDefinition"===e.kind&&e.name.value===n.name.value}))?e:e.concat(n)}),[]),loc:{start:0,end:150,source:{body:"\n    query getStoryById($id: String!) {\n  getStory(storyID: $id) {\n    storyID\n    title\n    persons {\n      ...PersonWithLinksFields\n    }\n  }\n}\n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},_=function(e){return e()};function L(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;return{getAllPersons:function(t){return n((function(){return e.request(Object(P.print)(w),t)}))},getPersonByName:function(t){return n((function(){return e.request(Object(P.print)(C),t)}))},getPersonByUid:function(t){return n((function(){return e.request(Object(P.print)(I),t)}))},getPersonDetailsByUid:function(t){return n((function(){return e.request(Object(P.print)(T),t)}))},getStartNodes:function(t){return n((function(){return e.request(Object(P.print)(q),t)}))},getStoryById:function(t){return n((function(){return e.request(Object(P.print)(R),t)}))}}}var E=function(e,n){return{automaticRearrangeAfterDropNode:!1,collapsible:!1,directed:!0,focusAnimationDuration:.5,focusZoom:1,height:n,highlightDegree:2,highlightOpacity:.2,linkHighlightBehavior:!1,maxZoom:12,minZoom:.05,nodeHighlightBehavior:!0,panAndZoom:!1,staticGraph:!1,staticGraphWithDragAndDrop:!0,width:e,d3:{alphaTarget:.05,gravity:-50,linkLength:120,linkStrength:2,disableLinkForce:!0},node:{color:"#d3d3d3",fontColor:"black",fontSize:10,fontWeight:"normal",highlightColor:"red",highlightFontSize:14,highlightFontWeight:"bold",highlightStrokeColor:"red",highlightStrokeWidth:1.5,mouseCursor:"crosshair",opacity:.9,renderLabel:!0,size:200,strokeColor:"none",strokeWidth:1.5,svg:"",symbolType:"circle",labelProperty:function(e){return e.name}},link:{color:"lightgray",fontColor:"black",fontSize:8,fontWeight:"normal",highlightColor:"red",highlightFontSize:8,highlightFontWeight:"normal",mouseCursor:"pointer",opacity:1,renderLabel:!0,semanticStrokeWidth:!0,strokeWidth:3,markerHeight:6,markerWidth:6}}},G=function(e){return"male"===e?"#357ae8":"female"===e?"#f50057":void 0},M=function(e){return function(n){var t=n.personID,i=n.name,a=n.gender,r=n.cx,o=n.cy,s=n.dateOfBirth,c=n.dateOfDeath,l=n.wiki,d={id:t||"INVALID_PERSON_ID",name:i||"INVALID_PERSON_NAME",color:G(a),strokeColor:l?"black":"none",strokeWidth:l?3:1.5,dateOfBirth:s||void 0,dateOfDeath:c||void 0};return r&&o?Object(x.a)(Object(x.a)({},d),{},{x:r,y:o}):e&&e.x&&e.y?Object(x.a)(Object(x.a)({},d),{},{x:e.x+200*(Math.random()-.5),y:e.y+200*(Math.random()-.5)}):d}};function A(e){return Boolean(e)}var V=function(e){return"children"===e||"parents"===e?"#141823":"nonBioChildren"===e||"nonBioParents"===e?"#3f51b5":"physicalRelation"===e?"#f50057":void 0},W=function(e,n){var t,i=null!==(t=null===e||void 0===e?void 0:e.filter(A))&&void 0!==t?t:[],a=i.map(M(n)),r=z(i[0],n),o=a.concat(r),s=i.flatMap((function(e){var n=e.personID,t={children:e.children,parents:e.parents,nonBioChildren:e.nonBioChildren,nonBioParents:e.nonBioParents,physicalRelation:e.physicalRelation,otherRelation:e.otherRelation};return Object.entries(t).flatMap((function(e){var t=Object(N.a)(e,2),i=t[0],a=t[1];return a?a.map(function(e,n){return function(t){var i,a=null!==(i=null===t||void 0===t?void 0:t.personID)&&void 0!==i?i:"INVALID_PERSON_ID",r="parents"===e||"nonBioParents"===e;return{source:r?a:n,target:r?n:a,color:V(e)}}}(i,n)):[]}))})).filter((function(e){return o.some((function(n){return n.id===e.source}))&&o.some((function(n){return n.id===e.target}))}));return[o,s]},z=function(e,n){var t={children:e.children,parents:e.parents,nonBioChildren:e.nonBioChildren,nonBioParents:e.nonBioParents,physicalRelation:e.physicalRelation,otherRelation:e.otherRelation};return Object.entries(t).flatMap((function(e){var n=Object(N.a)(e,2);n[0];return n[1]})).filter(A).map(M(n))},H=t(487),$=t(488),U=t(489),Q=t(490),Z=t(491),J=t(492),X="SET_BOOK_FILTER",K="SET_DETAILS_FOR",Y="SET_TIME_RANGE",ee="SET_LITE_MODE",ne={isLiteMode:!1,searchByBook:"",detailsFor:["",void 0],timeRange:[1800,2008]},te=function(e,n){switch(n.type){case X:return Object(x.a)(Object(x.a)({},e),{},{searchByBook:n.payload});case K:return Object(x.a)(Object(x.a)({},e),{},{detailsFor:n.payload});case Y:return Object(x.a)(Object(x.a)({},e),{},{timeRange:n.payload});case ee:return Object(x.a)(Object(x.a)({},e),{},{isLiteMode:n.payload});default:throw new Error("Unknown action type: ".concat(n))}},ie=Object(u.createContext)({state:ne,dispatch:function(){return null}}),ae=function(e){var n=e.children,t=Object(u.useReducer)(te,ne),i=Object(N.a)(t,2),a=i[0],r=i[1];return Object(d.jsx)(ie.Provider,{value:{state:a,dispatch:r},children:n})},re=function(){return Object(u.useContext)(ie)},oe=t(505),se=t(485),ce=t(108),le=t(486),de=t(507),ue=t(502),me=t(508),he=t(481),ke=Object(he.a)((function(e){return{root:{position:"absolute",width:"calc(100% - ".concat(e.spacing(4),"px)"),margin:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px"),transition:"height 200ms"},closed:{overflow:"hidden",height:e.spacing(2),width:e.spacing(2),transition:"height 200ms"},gridRoot:{flexGrow:1},cardRoot:{backgroundColor:"rgba(255,255,255,0.5)"},cardContentRoot:{"&:last-child":{paddingBottom:e.spacing(1)}},formControlRoot:{width:"100%"},collapseButton:{position:"absolute",left:e.spacing(-2),top:e.spacing(-2)}}})),ve=function(e){var n=e.searchByBook,t=e.onChange,i=re().state.isLiteMode,a=ke(),r=Object(d.jsx)(oe.a,{title:"This feature is disabled because the application is running in Lite Mode. For more information, click to see the documentation on Github.",children:Object(d.jsx)(se.a,{href:"https://github.com/mdvanes/7sgraph#lite-mode",children:Object(d.jsx)(ce.a,{variant:"h4",children:"Lite Mode"})})}),o=Object(d.jsxs)(le.a,{variant:"outlined",classes:{root:a.formControlRoot},children:[Object(d.jsx)(de.a,{id:"demo-simple-select-outlined-label",children:"Search by book"}),Object(d.jsxs)(ue.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:n,onChange:t,label:"Search by book",children:[Object(d.jsx)(me.a,{value:"",children:Object(d.jsx)("em",{children:"None"})}),Object(d.jsx)(me.a,{value:"book1",children:"The Seven Sisters"}),Object(d.jsx)(me.a,{value:"book2",children:"The Storm Sister"}),Object(d.jsx)(me.a,{value:"book3",children:"The Shadow Sister"}),Object(d.jsx)(me.a,{value:"book4",children:"The Pearl Sister"}),Object(d.jsx)(me.a,{value:"book5",children:"The Moon Sister"}),Object(d.jsx)(me.a,{value:"book6",children:"The Sun Sister"}),Object(d.jsx)(me.a,{value:"all",children:"All"})]})]});return i?r:o},fe=t(509),pe=function(){var e=re(),n=e.dispatch,t=e.state.timeRange;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ce.a,{id:"range-slider",gutterBottom:!0,style:{paddingLeft:"25px"},children:"Time range"}),Object(d.jsx)(fe.a,{value:t,onChange:function(e,t){n({type:Y,payload:t})},valueLabelDisplay:"on","aria-labelledby":"range-slider",min:1800,max:2008})]})},be=function(){var e=ke(),n=Object(u.useState)(!0),t=Object(N.a)(n,2),i=t[0],a=t[1],r=re(),o=r.dispatch,s=r.state.searchByBook,c=i?e.root:"".concat(e.root," ").concat(e.closed);return Object(d.jsx)("div",{className:c,children:Object(d.jsx)(H.a,{classes:{root:e.cardRoot},children:Object(d.jsxs)($.a,{classes:{root:e.cardContentRoot},children:[Object(d.jsxs)(U.a,{container:!0,spacing:4,classes:{root:e.gridRoot},children:[Object(d.jsx)(U.a,{item:!0,xs:12,sm:4,md:2,children:Object(d.jsx)(ve,{searchByBook:s,onChange:function(e){o({type:X,payload:e.target.value})}})}),Object(d.jsx)(U.a,{item:!0,xs:!0,md:4,children:Object(d.jsx)(pe,{})})]}),Object(d.jsx)(Q.a,{"aria-label":"collapse",onClick:function(){a(!i)},className:e.collapseButton,children:i?Object(d.jsx)(Z.a,{}):Object(d.jsx)(J.a,{})})]})})})},ge=new(t(298).GraphQLClient)("/7sgraph/all.json",{headers:{}}),je=t(493),ye=t(494),Oe=Object(he.a)((function(e){var n=e.spacing;return{root:{position:"absolute",bottom:n(2),right:n(2)},cardRoot:{backgroundColor:"rgba(255,255,255,0.5)",height:310,width:270}}})),Se=function(e){var n,t=e.title,i=e.uid,a=e.nickNames,r=e.story,o=e.dateOfBirth,s=e.dateOfDeath,c=e.wiki,l=e.isFallback,u=e.close,m=Oe();return Object(d.jsx)("div",{className:m.root,children:Object(d.jsxs)(H.a,{classes:{root:m.cardRoot},children:[Object(d.jsx)(je.a,{title:t,action:Object(d.jsx)(Q.a,{onClick:u,children:Object(d.jsx)(ye.a,{})})}),Object(d.jsxs)($.a,{children:[a&&a.length>0&&Object(d.jsxs)(ce.a,{variant:"body1",children:["Nicknames: ",Object(d.jsx)("em",{children:null===a||void 0===a?void 0:a.join(", ")})]}),Object(d.jsxs)(ce.a,{variant:"body1",children:["Main book:"," ",l?"not available in Lite Mode":Object(d.jsx)("em",{children:null===r||void 0===r?void 0:r.title})]}),Object(d.jsx)(ce.a,{variant:"body1",children:o&&Object(d.jsxs)(d.Fragment,{children:["\ud83d\udebc ",Object(d.jsx)("em",{children:o})]})}),Object(d.jsxs)(ce.a,{variant:"body1",children:["\u271d\ufe0f ",Object(d.jsx)("em",{children:(n=s,n&&"1"===n?"dead":n||"alive")})]}),c&&Object(d.jsxs)(ce.a,{variant:"body2",children:["This character is based on a real person."," ",Object(d.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:"Read more"}),"."]}),Object(d.jsx)(ce.a,{variant:"body2",align:"center",children:Object(d.jsxs)("em",{children:["<",i,">"]})})]})]})})},xe=function(){var e=re().state.detailsFor,n=Object(N.a)(e,2),t=n[0],i=n[1],a=Object(u.useState)(null),r=Object(N.a)(a,2),o=r[0],s=r[1],c=Object(u.useState)(!1),l=Object(N.a)(c,2),m=l[0],h=l[1],k=Object(u.useCallback)(Object(j.a)(g.a.mark((function e(){var n,i,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=L(ge),i=n.getPersonDetailsByUid,e.next=4,i({uid:t});case 4:a=e.sent,(r=a.getPerson)&&s(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:h(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]);Object(u.useEffect)((function(){k()}),[k]);var v,f=function(){h(!1)};if(!m)return Object(d.jsx)(d.Fragment,{});if(o){var p=o?"".concat(o.name," ").concat("male"===(v=o.gender)?"\u2642\ufe0f":"female"===v?"\u2640\ufe0f":""):"";return Object(d.jsx)(Se,{title:p,uid:t,nickNames:o.nickNames,story:o.story,dateOfBirth:o.dateOfBirth,dateOfDeath:o.dateOfDeath,wiki:o.wiki,isFallback:!1,close:f})}return!o&&i?Object(d.jsx)(Se,{title:i.name,uid:t,dateOfBirth:null===i||void 0===i?void 0:i.dateOfBirth,dateOfDeath:null===i||void 0===i?void 0:i.dateOfDeath,isFallback:!0,close:f}):Object(d.jsx)(d.Fragment,{})},Ne=function(e){return 0===e.indexOf("BET")},Fe=function(e){var n=e.split(" "),t=Object(N.a)(n,4),i=t[1],a=t[3];return[parseInt(i,10),parseInt(a,10)]},Pe=function(e){var n=e.map((function(e){return["".concat(e.source,",").concat(e.target),e]}));return Object.values(Object.fromEntries(n))},De=function(){var e=Object(j.a)(g.a.mark((function e(n,t){var i,a,r,o,s,c,l,d,u,m,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=L(ge),a=i.getStartNodes,r=i.getStoryById,o=i.getAllPersons,e.prev=1,!n||"all"!==n){e.next=10;break}return e.next=5,o();case 5:return s=e.sent,c=s.queryPerson,e.abrupt("return",c);case 10:if(!n){e.next=18;break}return e.next=13,r({id:n});case 13:return l=e.sent,d=l.getStory,e.abrupt("return",null===d||void 0===d?void 0:d.persons);case 18:return e.next=20,a();case 20:return u=e.sent,m=u.queryPerson,e.abrupt("return",m);case 23:e.next=35;break;case 25:return e.prev=25,e.t0=e.catch(1),console.error("DGraph server not available, falling back to Lite Mode: "+e.t0),e.next=30,fetch("/7sgraph/all.json");case 30:return e.next=32,e.sent.json();case 32:return h=e.sent,t({type:ee,payload:!0}),e.abrupt("return",h.data.queryPerson);case 35:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(n,t){return e.apply(this,arguments)}}(),Be=t(495),we=function(){var e=re(),n=e.dispatch,t=e.state,i=t.searchByBook,a=t.timeRange,r=Object(Be.a)("(max-width:600px)"),o=Object(u.useState)({nodes:[],links:[]}),s=Object(N.a)(o,2),c=s[0],l=s[1],m=Object(u.useState)({nodes:[],links:[]}),h=Object(N.a)(m,2),k=h[0],v=h[1],f=L(ge).getPersonByUid,p=Object(u.useRef)(null),b=Object(u.useCallback)(Object(j.a)(g.a.mark((function e(){var t,a,r,o,s,c,d,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De(i,n);case 3:a=e.sent,r=null!==(t=null===a||void 0===a?void 0:a.filter(A))&&void 0!==t?t:[],o=W(r),s=Object(N.a)(o,2),c=s[0],d=s[1],u=c[c.length-1],l({nodes:c,links:Pe(d),focusedNodeId:u.id}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[i,n]);Object(u.useEffect)((function(){b()}),[b]),Object(u.useEffect)((function(){var e=Object(N.a)(a,2),n=e[0],t=e[1],i=c.nodes,r=c.links,o=i.filter((function(e){var i=function(e,n){if(!n)return!0;if(!Ne(n))return parseInt(n,10)<=e;var t=Fe(n);return Object(N.a)(t,1)[0]<=e}(t,e.dateOfBirth);return function(e,n){if(!n||"1"===n)return!0;if(!Ne(n))return parseInt(n,10)>=e;var t=Fe(n);return Object(N.a)(t,2)[1]>=e}(n,e.dateOfDeath)&&i})),s=r.filter((function(e){return o.some((function(n){return n.id===e.source}))&&o.some((function(n){return n.id===e.target}))}));v({nodes:o,links:s})}),[a,c]);var y=r?window.innerHeight-22:window.innerHeight-48;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(be,{}),Object(d.jsx)(xe,{}),k&&k.nodes.length>0&&Object(d.jsx)(F.Graph,{id:"graph-id",ref:p,data:Object(x.a)({},k),config:E(window.innerWidth,y),onClickNode:function(e,t){n({type:K,payload:[e,t]}),Object(j.a)(g.a.mark((function n(){var i,a,r,o,s,d,u;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f({uid:e});case 3:i=n.sent,a=i.getPerson,r=a?[a].filter(A):[],o=r?W(r,t):[[],[]],s=Object(N.a)(o,2),d=s[0],u=s[1],l({nodes:(null===c||void 0===c?void 0:c.nodes)?c.nodes.concat(d):[],links:Pe((null===c||void 0===c?void 0:c.links)?c.links.concat(u):[])}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},onClickGraph:function(){if(document.getElementById("graph-id-graph-container-zoomable")){var e=p.current,n=Object.values(e.state.nodes).map((function(e){var n=e.id,t=e.x,i=e.y;return"".concat(n,",").concat(t,",").concat(i)}));console.log(n.join("\n"))}else console.log("no elem")}})]})},Ce=t(206),Ie=t.n(Ce),Te=t(299),qe=t.n(Te),Re=t(504),_e=t(496),Le=t(303);function Ee(){return(Ee=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}function Ge(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var Me=u.createElement("g",{transform:"translate(-330 -620)"},u.createElement("g",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},u.createElement("path",{d:"M356.855,633.282c0.058,0.4,0.102,0.806,0.119,1.218h-0.81c-0.2,0.333-0.413,0.666-0.634,1h1.443    c-0.113,2.733-1.134,5.235-2.783,7.201c-0.805-0.464-1.719-0.862-2.709-1.192c0.153-0.456,0.289-0.93,0.409-1.418    c-0.289,0.309-0.578,0.617-0.881,0.92c-0.367,0.367-0.741,0.723-1.117,1.069c0.104,0.025,0.212,0.046,0.313,0.072    c-1.093,2.703-2.781,4.528-4.707,4.801v-1.422c-0.334,0.221-0.667,0.434-1,0.634v0.788c-0.309-0.044-0.608-0.141-0.903-0.262    c-0.61,0.336-1.215,0.625-1.813,0.889c1.03,0.264,2.104,0.42,3.217,0.42c3.699,0,7.028-1.552,9.396-4.031    c0.224-0.234,0.446-0.471,0.652-0.721c1.844-2.244,2.952-5.117,2.952-8.248c0-1.117-0.146-2.2-0.412-3.235    C357.368,632.267,357.127,632.772,356.855,633.282z M348.521,646.471c1.049-0.972,1.947-2.363,2.625-4.043    c0.868,0.282,1.671,0.617,2.379,1.005C352.149,644.824,350.438,645.881,348.521,646.471z"}),u.createElement("path",{d:"M334.952,643.248c0.206,0.25,0.429,0.486,0.652,0.721c0.633,0.662,1.338,1.253,2.097,1.771    c0.436-0.072,0.892-0.176,1.375-0.327c-0.953-0.545-1.834-1.203-2.602-1.979c0.708-0.388,1.511-0.723,2.379-1.005    c0.387,0.96,0.854,1.812,1.371,2.559c0.297-0.123,0.595-0.25,0.896-0.394c-0.502-0.694-0.952-1.511-1.328-2.44    c1.436-0.376,3.025-0.601,4.707-0.639v1.083c0.334-0.233,0.667-0.478,1-0.731v-0.352c0.141,0.003,0.276,0.016,0.416,0.021    c0.376-0.298,0.749-0.607,1.12-0.929c-0.504-0.046-1.015-0.08-1.536-0.092V635.5h5.986c-0.004,0.174-0.021,0.341-0.029,0.513    c0.4-0.503,0.785-1.007,1.14-1.513h-0.111c-0.048-2.184-0.405-4.229-1.003-6.009c0.99-0.33,1.904-0.729,2.709-1.192    c0.461,0.549,0.866,1.144,1.223,1.77c0.152-0.488,0.257-0.949,0.328-1.386c-0.219-0.32-0.449-0.632-0.694-0.931    c-0.206-0.25-0.429-0.486-0.652-0.721C352.028,623.552,348.699,622,345,622s-7.028,1.552-9.396,4.031    c-0.224,0.234-0.446,0.471-0.652,0.721C333.108,628.996,332,631.869,332,635S333.108,641.004,334.952,643.248z M353.525,626.567    c-0.708,0.388-1.511,0.723-2.379,1.005c-0.678-1.68-1.576-3.071-2.625-4.043C350.438,624.119,352.149,625.176,353.525,626.567z     M345.5,623.047c1.926,0.272,3.614,2.098,4.707,4.801c-1.436,0.376-3.025,0.601-4.707,0.639V623.047z M345.5,629.485    c1.8-0.04,3.504-0.29,5.046-0.712c0.557,1.684,0.894,3.635,0.94,5.727H345.5V629.485z M344.5,640.515    c-1.8,0.04-3.504,0.29-5.046,0.712c-0.557-1.684-0.894-3.635-0.94-5.727h5.986V640.515z M344.5,634.5h-5.986    c0.047-2.092,0.384-4.043,0.94-5.727c1.542,0.422,3.246,0.672,5.046,0.712V634.5z M344.5,623.047v5.439    c-1.682-0.038-3.271-0.263-4.707-0.639C340.886,625.145,342.574,623.319,344.5,623.047z M341.479,623.529    c-1.049,0.972-1.947,2.363-2.625,4.043c-0.868-0.282-1.671-0.617-2.379-1.005C337.851,625.176,339.563,624.119,341.479,623.529z     M335.809,627.299c0.805,0.464,1.719,0.862,2.709,1.192c-0.598,1.78-0.955,3.825-1.003,6.009h-4.489    C333.139,631.767,334.159,629.265,335.809,627.299z M337.515,635.5c0.048,2.184,0.405,4.229,1.003,6.009    c-0.99,0.33-1.904,0.729-2.709,1.192c-1.649-1.966-2.67-4.468-2.783-7.201H337.515z"}),u.createElement("path",{d:"M340.683,646.966c3.134-1.227,6.551-3.593,9.621-6.662c3.069-3.07,5.436-6.487,6.662-9.621    c1.171-2.992,1.167-5.422,0.031-6.941l1.031-0.273l0.743-0.197l-1.325-0.557l-1.109-0.465l-2.521-1.059l1.059,2.521l0.51,1.214    l0.372,0.886l0.141,0.335l0.433-1.633c0.774,1.25,0.679,3.316-0.296,5.805c-1.177,3.009-3.463,6.305-6.438,9.279    s-6.271,5.261-9.279,6.438c-1.388,0.543-2.642,0.81-3.698,0.809c-1.102-0.001-1.989-0.293-2.579-0.883    c-0.735-0.735-1.01-1.931-0.83-3.431c-0.278-0.435-0.529-0.886-0.759-1.352c-0.584,2.393-0.297,4.312,0.882,5.489    c0.79,0.79,1.907,1.187,3.279,1.187c0.001,0,0.002,0,0.003,0C337.799,647.853,339.17,647.558,340.683,646.966z"})));function Ae(e,n){var t=e.title,i=e.titleId,a=Ge(e,["title","titleId"]);return u.createElement("svg",Ee({height:"300px",width:"300px",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 30 30",xmlSpace:"preserve",ref:n,"aria-labelledby":i},a),t?u.createElement("title",{id:i},t):null,Me)}var Ve=u.forwardRef(Ae),We=(t.p,function(e){var n=e.className;return Object(d.jsx)(Le.a,{className:n,viewBox:"0 0 30 30",component:Ve})}),ze=Object(he.a)((function(e){return{root:{flexGrow:1},appIcon:{marginRight:e.spacing(2),height:"2.5rem",width:"2.5rem","& g":{fill:"white"}},title:{flexGrow:1}}})),He=function(){var e=ze(),n="Seven Sisters characters";return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Re.a,{smUp:!0,children:Object(d.jsx)(Ie.a,{style:{minHeight:22,fontSize:"0.8rem"},children:n})}),Object(d.jsx)(Re.a,{xsDown:!0,children:Object(d.jsxs)(Ie.a,{variant:"dense",children:[Object(d.jsx)(We,{className:e.appIcon}),Object(d.jsx)(qe.a,{variant:"h6",style:{flexGrow:1},children:n}),Object(d.jsx)(_e.a,{color:"inherit",component:f.b,to:"/",children:"Graph"}),Object(d.jsx)(_e.a,{color:"inherit",component:f.b,to:"/debugger",children:"Debugger"}),Object(d.jsx)(_e.a,{color:"inherit",href:"http://localhost:8001/?latest",children:"Ratel"}),Object(d.jsx)(_e.a,{color:"inherit",href:"https://github.com/mdvanes/7sgraph/issues",children:"Github (issues)"})]})})]})},$e=t(506),Ue=t(497),Qe=t(498),Ze=t(499),Je=t(500),Xe=function(){var e="true"===localStorage.getItem("dialogHasBeenSeen1")||!1,n=Object(u.useState)(!e),t=Object(N.a)(n,2),i=t[0],a=t[1];return Object(d.jsxs)($e.a,{open:i,disableBackdropClick:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(d.jsx)(Ue.a,{id:"alert-dialog-title",children:"Spoiler Alert & Disclaimer"}),Object(d.jsx)(Qe.a,{children:Object(d.jsxs)(Ze.a,{id:"alert-dialog-description",children:[Object(d.jsxs)(ce.a,{variant:"h3",color:"error",children:["This app is outdated, find the new version ",Object(d.jsx)("a",{href:"https://mdworld.nl/cytocom/?gedcomPath=%2Fcytocom%2F7sisters.ged&layout=cola",children:"here"})]}),Object(d.jsx)(ce.a,{color:"primary",children:"This app contains spoilers for The Seven Sisters books by Lucinda Riley."}),Object(d.jsx)(ce.a,{children:"I do not own the rights to any of the characters or books mentioned."}),Object(d.jsx)(ce.a,{children:"The data may be incomplete or inaccurate, you may file an issue on Github if you want to have this fixed."})]})}),Object(d.jsx)(Je.a,{children:Object(d.jsx)(_e.a,{onClick:function(){localStorage.setItem("dialogHasBeenSeen1","true"),a(!1)},color:"primary",autoFocus:!0,children:"I agree, hide this message in the future."})})]})};var Ke=function(){return Object(d.jsxs)(f.a,{children:[Object(d.jsx)(Xe,{}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(v.a,{position:"static",children:Object(d.jsx)(He,{})}),Object(d.jsxs)(p.c,{children:[Object(d.jsx)(p.a,{path:"/debugger",children:Object(d.jsx)(S,{})}),Object(d.jsx)(p.a,{path:"/",children:Object(d.jsx)(ae,{children:Object(d.jsx)(we,{})})})]})]})]})},Ye=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,510)).then((function(n){var t=n.getCLS,i=n.getFID,a=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),i(e),a(e),r(e),o(e)}))};k.a.render(Object(d.jsx)(m.a.StrictMode,{children:Object(d.jsx)(Ke,{})}),document.getElementById("root")),Ye()}},[[449,1,2]]]);
//# sourceMappingURL=main.dde333bb.chunk.js.map